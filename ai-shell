#!/usr/bin/env bash
set -euo pipefail

# Wrapper CLI:
# - Prefer the Go implementation if available.
# - Fall back to the legacy Python implementation.

if command -v ai-shell-go >/dev/null 2>&1; then
  exec ai-shell-go "$@"
fi

repo_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

if [ -x "${repo_dir}/ai-shell-go" ]; then
  exec "${repo_dir}/ai-shell-go" "$@"
fi

exec python3 "${repo_dir}/legacy/ai-shell.py" "$@"

